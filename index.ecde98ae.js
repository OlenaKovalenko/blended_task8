!function(){var t={form:document.querySelector("#task-form"),list:document.querySelector("#task-list")},n="cartsKey";function e(t){var e=a();e.push(t),localStorage.setItem(n,JSON.stringify(e))}function a(){var t;return null!==(t=JSON.parse(localStorage.getItem(n)))&&void 0!==t?t:[]}function r(t){var e=a().filter((function(n){return n.id!==t}));localStorage.setItem(n,JSON.stringify(e))}var i,s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,n){return t+=(n&=63)<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n>62?"-":"_"}),"")};function o(){var t={id:s()};return new FormData(event.currentTarget).forEach((function(n,e){t[e]=n})),t}function c(n){var e='<li class="task-list-item" data-id='.concat(n.id,'>\n              <button class="task-list-item-btn js-del">Удалить</button>\n              <h3>').concat(n.taskName,"</h3>\n              <p>").concat(n.taskText,"</p>\n            </li>");t.list.insertAdjacentHTML("beforeend",e)}t.form.addEventListener("submit",(function(t){t.preventDefault();var n=o();e(n),c(n),t.currentTarget.reset()})),t.list.addEventListener("click",(function(t){if(t.target.classList.contains("js-del")){var n=t.target.closest(".task-list-item"),e=n.dataset.id;n.remove(),r(e)}})),i=a().map((function(t){return'<li class="task-list-item" data-id='.concat(t.id,'>\n              <button class="task-list-item-btn js-del">Удалить</button>\n              <h3>').concat(t.taskName,"</h3>\n              <p>").concat(t.taskText,"</p>\n            </li>")})),t.list.innerHTML=i.join("")}();
//# sourceMappingURL=index.ecde98ae.js.map
